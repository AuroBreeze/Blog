<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>使用Typora_plugin实现Markdown代码块一键填充指定编程语言 | W1ndysの小屋</title><meta name="author" content="W1ndys,w1ndys@outlook.com"><meta name="copyright" content="W1ndys"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="FFFAFA"><meta name="description" content="使用 Typora_plugin 实现 Markdownd 代码块一键填充指定编程语言 轮子 首先感谢大佬写好的轮子 使用的时候请把里面的 plugin_name 改为插件的实际文件名 12345678910111213141516class plugin_name extends BaseCustomPlugin &#123;    callback &#x3D; async anchorNode &#x3D;&amp;g">
<meta property="og:type" content="article">
<meta property="og:title" content="使用Typora_plugin实现Markdown代码块一键填充指定编程语言">
<meta property="og:url" content="https://blog.w1ndys.top/posts/979ed90f.html">
<meta property="og:site_name" content="W1ndysの小屋">
<meta property="og:description" content="使用 Typora_plugin 实现 Markdownd 代码块一键填充指定编程语言 轮子 首先感谢大佬写好的轮子 使用的时候请把里面的 plugin_name 改为插件的实际文件名 12345678910111213141516class plugin_name extends BaseCustomPlugin &#123;    callback &#x3D; async anchorNode &#x3D;&amp;g">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://t.mwm.moe/fj/?72">
<meta property="article:published_time" content="2024-02-18T10:31:25.000Z">
<meta property="article:modified_time" content="2024-12-20T06:31:57.242Z">
<meta property="article:author" content="W1ndys">
<meta property="article:tag" content="Hexo">
<meta property="article:tag" content="Typora">
<meta property="article:tag" content="Typora-plugin">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://t.mwm.moe/fj/?72"><link rel="shortcut icon" href="/img/about/icon.jpg"><link rel="canonical" href="https://blog.w1ndys.top/posts/979ed90f.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//www.clarity.ms"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="google-site-verification" content="G2rPpjA8qhdAQYUqgC3WTFeaOfenZ71SWXKcg_WnOSk"/><meta name="baidu-site-verification" content="codeva-z19ndifHai"/><link rel="stylesheet" href="/css/index.css?v=5.2.2"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.6.0/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.36/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!true && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'FFFAFA')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?204a6d3bb0cb0e09978eff5ba3023104";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
btf.addGlobalFn('pjaxComplete', () => {
  _hmt.push(['_trackPageview',window.location.pathname])
}, 'baidu_analytics')
</script><script>(function(c,l,a,r,i,t,y){
    c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
    t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
    y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
})(window, document, "clarity", "script", "kmd11rvmc3");</script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"top_n_per_article":1,"unescape":true,"languages":{"hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: {"defaultEncoding":1,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: W1ndys","link":"链接: ","source":"来源: W1ndysの小屋","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"已切换为繁体中文","cht_to_chs":"已切换为简体中文","day_to_night":"已切换为深色模式","night_to_day":"已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#2d3035","position":"bottom-left"},
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.12.0/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: true,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '使用Typora_plugin实现Markdown代码块一键填充指定编程语言',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  isShuoshuo: false
}</script><link rel="stylesheet" href="/css/card-info-btn.css"><script data-pjax charset="UTF-8" id="LA_COLLECT" src="//sdk.51.la/js-sdk-pro.min.js"></script><script data-pjax>LA.init({id:"3HPYFt9znqKItrHZ",ck:"3HPYFt9znqKItrHZ",autoTrack:true})</script><link rel="stylesheet" type="text/css" href="/css/Capoo.css"><link rel="stylesheet" type="text/css" href="/css/foot.css"><link rel="stylesheet" type="text/css" href="/css/extra.css"><meta name="generator" content="Hexo 7.1.1"><link rel="alternate" href="/atom.xml" title="W1ndysの小屋" type="application/atom+xml">
<link href="https://cdn.bootcss.com/KaTeX/0.11.1/katex.min.css" rel="stylesheet" /></head><body><div id="web_bg" style="background-image: url(https://pic1.zhimg.com/80/v2-b4e05912f591b51b9fa3e8aa4b9cba45.png);"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://avatars.githubusercontent.com/u/109416673?v=4" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">186</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">146</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">79</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fa fa-heart"></i><span> 友链接力</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener" href="https://travel.moe/go.html?travel=on"><i class="fa-fw fa fa-bomb"></i><span> 异次元之旅</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://beian.miit.cn.com/go.php#/"><i class="fa-fw fas fa-rotate-right"></i><span> MIIT Travel</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://bokelu.suijiboke.gs"><i class="fa-fw fas fa-tree"></i><span> 博客录</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://blogscn.fun/random.html"><i class="fa-fw fas fa-pen"></i><span> 笔墨迹</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://bokequan.cn/?suiji"><i class="fa-fw fas fa-car"></i><span> 博客圈</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fa fa-pencil"></i><span> 项目</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener" href="https://github.com/W1ndys/Easy-QFNU"><i class="fa-fw fa fa-book"></i><span> Easy-QFNU</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://github.com/W1ndys-bot/W1ndys-bot"><i class="fa-fw fa fa-robot"></i><span> W1ndys-bot</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fa fa-user"></i><span> 关于</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于我</span></a></li><li><a class="site-page child" href="/words/"><i class="fa-fw fas fa-quote-left"></i><span> 一句话</span></a></li></ul></div><div class="menus_item"><a class="site-page" target="_blank" rel="noopener" href="https://w1ndys.top/"><i class="fa-fw fas fa-bed"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" target="_blank" rel="noopener" href="https://nav.w1ndys.top/"><i class="fa-fw fas fa-map"></i><span> 导航页</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="not-top-img fixed" id="page-header"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><img class="site-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/about/icon.jpg" alt="Logo"><span class="site-name">W1ndysの小屋</span></a><a class="nav-page-title" href="/"><span class="site-name">使用Typora_plugin实现Markdown代码块一键填充指定编程语言</span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fa fa-heart"></i><span> 友链接力</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener" href="https://travel.moe/go.html?travel=on"><i class="fa-fw fa fa-bomb"></i><span> 异次元之旅</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://beian.miit.cn.com/go.php#/"><i class="fa-fw fas fa-rotate-right"></i><span> MIIT Travel</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://bokelu.suijiboke.gs"><i class="fa-fw fas fa-tree"></i><span> 博客录</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://blogscn.fun/random.html"><i class="fa-fw fas fa-pen"></i><span> 笔墨迹</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://bokequan.cn/?suiji"><i class="fa-fw fas fa-car"></i><span> 博客圈</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fa fa-pencil"></i><span> 项目</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener" href="https://github.com/W1ndys/Easy-QFNU"><i class="fa-fw fa fa-book"></i><span> Easy-QFNU</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://github.com/W1ndys-bot/W1ndys-bot"><i class="fa-fw fa fa-robot"></i><span> W1ndys-bot</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fa fa-user"></i><span> 关于</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于我</span></a></li><li><a class="site-page child" href="/words/"><i class="fa-fw fas fa-quote-left"></i><span> 一句话</span></a></li></ul></div><div class="menus_item"><a class="site-page" target="_blank" rel="noopener" href="https://w1ndys.top/"><i class="fa-fw fas fa-bed"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" target="_blank" rel="noopener" href="https://nav.w1ndys.top/"><i class="fa-fw fas fa-map"></i><span> 导航页</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav></header><main class="layout" id="content-inner"><div id="post"><div id="post-info"><h1 class="post-title">使用Typora_plugin实现Markdown代码块一键填充指定编程语言<a class="post-edit-link" href="https://github.com/W1ndys/blog.w1ndys.top/edit/main/source/_posts/使用Typora_plugin实现Markdown代码块一键填充指定编程语言.md" title="编辑" target="_blank"><i class="fas fa-pencil-alt"></i></a></h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-02-18T10:31:25.000Z" title="发表于 2024-02-18 18:31:25">2024-02-18</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-12-20T06:31:57.242Z" title="更新于 2024-12-20 14:31:57">2024-12-20</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%8A%80%E6%9C%AF%E6%95%99%E7%A8%8B/">技术教程</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%8A%80%E6%9C%AF%E6%95%99%E7%A8%8B/Typora/">Typora</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">1.2k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>5分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div><article class="container post-content" id="article-container"><div id="post-outdate-notice" data="{&quot;limitDay&quot;:30,&quot;messagePrev&quot;:&quot;这篇文章已经有&quot;,&quot;messageNext&quot;:&quot;天没有更新了，请注意甄别时效性，可能有部分已失效&quot;,&quot;postUpdate&quot;:&quot;2024-12-20 14:31:57&quot;}" hidden></div><h1 id="使用-typora-plugin-实现-markdownd-代码块一键填充指定编程语言">使用 Typora_plugin 实现 Markdownd 代码块一键填充指定编程语言</h1>
<h2 id="轮子">轮子</h2>
<p>首先感谢大佬写好的轮子</p>
<p>使用的时候请把里面的 <code>plugin_name</code> 改为插件的实际文件名</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">plugin_name</span> <span class="keyword">extends</span> <span class="title class_ inherited__">BaseCustomPlugin</span> &#123;</span><br><span class="line">    callback = <span class="keyword">async</span> anchorNode =&gt; &#123;</span><br><span class="line">        <span class="keyword">const</span> filepath = <span class="variable language_">this</span>.<span class="property">utils</span>.<span class="title function_">getFilePath</span>();</span><br><span class="line">        <span class="keyword">const</span> content = <span class="keyword">await</span> <span class="variable language_">this</span>.<span class="property">utils</span>.<span class="property">Package</span>.<span class="property">Fs</span>.<span class="property">promises</span>.<span class="title function_">readFile</span>(filepath, <span class="string">&#x27;utf-8&#x27;</span>);</span><br><span class="line">        <span class="keyword">const</span> replacedContent = <span class="variable language_">this</span>.<span class="title function_">plugin_name</span>(content);</span><br><span class="line">        <span class="keyword">await</span> <span class="variable language_">this</span>.<span class="property">utils</span>.<span class="property">Package</span>.<span class="property">Fs</span>.<span class="property">promises</span>.<span class="title function_">writeFile</span>(filepath, replacedContent);</span><br><span class="line">        <span class="title class_">File</span>.<span class="title function_">reloadContent</span>(replacedContent, &#123;<span class="attr">fromDiskChange</span>: <span class="literal">false</span>&#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 在这里写主要的逻辑代码</span></span><br><span class="line">    plugin_name = <span class="function"><span class="params">content</span> =&gt;</span> &#123;</span><br><span class="line">      </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123; <span class="attr">plugin</span>: plugin_name &#125;;</span><br></pre></td></tr></table></figure>
<h2 id="安装-typora-plugin">安装 Typora plugin</h2>
<p>有关插件的安装教程可以看官方的仓库，Readme 写的很详细了</p>
<p><a target="_blank" rel="noopener" href="https://github.com/obgnail/typora_plugin/">https://github.com/obgnail/typora_plugin/</a></p>
<h2 id="创建-js">创建 JS</h2>
<p>在 <code>./plugin/custom/plugins/</code> 文件中创建 <code>MarkdownToCode.js</code> 文件，把下面代码复制进去。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ./plugin/custom/plugins/markdownToCode.js</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MarkdownToCode</span> <span class="keyword">extends</span> <span class="title class_ inherited__">BaseCustomPlugin</span> &#123;</span><br><span class="line">    callback = <span class="keyword">async</span> anchorNode =&gt; <span class="keyword">await</span> <span class="variable language_">this</span>.<span class="property">utils</span>.<span class="title function_">editCurrentFile</span>(<span class="variable language_">this</span>.<span class="property">convertMarkdownToCode</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 主要逻辑代码</span></span><br><span class="line">    convertMarkdownToCode = <span class="function"><span class="params">content</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> components = [&#123; <span class="attr">label</span>: <span class="string">&quot;语言&quot;</span>, <span class="attr">type</span>: <span class="string">&quot;input&quot;</span>, <span class="attr">value</span>: <span class="variable language_">this</span>.<span class="property">config</span>.<span class="property">code</span>.<span class="title function_">toLowerCase</span>() &#125;];</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">utils</span>.<span class="title function_">modal</span>(&#123; <span class="attr">title</span>: <span class="string">&quot;添加语言&quot;</span>, components &#125;, <span class="keyword">async</span> ([&#123; <span class="attr">submit</span>: targetLang &#125;]) =&gt; &#123;</span><br><span class="line">            <span class="keyword">if</span> (!targetLang) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">const</span> updatedContent = <span class="variable language_">this</span>.<span class="title function_">updateCodeLanguage</span>(content, targetLang.<span class="title function_">toLowerCase</span>());</span><br><span class="line">            <span class="keyword">const</span> filepath = <span class="variable language_">this</span>.<span class="property">utils</span>.<span class="title function_">getFilePath</span>();</span><br><span class="line">            <span class="keyword">await</span> <span class="variable language_">this</span>.<span class="property">utils</span>.<span class="property">Package</span>.<span class="property">Fs</span>.<span class="property">promises</span>.<span class="title function_">writeFile</span>(filepath, updatedContent);</span><br><span class="line">            <span class="title class_">File</span>.<span class="title function_">reloadContent</span>(updatedContent, &#123; <span class="attr">fromDiskChange</span>: <span class="literal">false</span> &#125;);</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 更新代码块语言</span></span><br><span class="line">    updateCodeLanguage = <span class="function">(<span class="params">content, targetLang</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> codeBlockRegex = <span class="regexp">/```(?:\w+)?\s*([\s\S]+?)\s*```/g</span>; <span class="comment">// 匹配代码块，包括语言指定部分</span></span><br><span class="line">        <span class="keyword">const</span> updatedContent = content.<span class="title function_">replace</span>(codeBlockRegex, <span class="function">(<span class="params">match, codeContent</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="comment">// 匹配到的完整代码块</span></span><br><span class="line">            <span class="keyword">const</span> codeLanguageMatch = match.<span class="title function_">match</span>(<span class="regexp">/```(\w+)?/</span>); <span class="comment">// 匹配代码块语言指定部分</span></span><br><span class="line">            <span class="keyword">const</span> codeLanguage = codeLanguageMatch ? codeLanguageMatch[<span class="number">1</span>] : <span class="literal">null</span>; <span class="comment">// 获取代码块语言</span></span><br><span class="line">            <span class="comment">// 如果语言未指定或者不是目标语言，则添加目标语言标记</span></span><br><span class="line">            <span class="keyword">if</span> (!codeLanguage || codeLanguage.<span class="title function_">toLowerCase</span>() !== targetLang) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="string">&#x27;```&#x27;</span> + targetLang + <span class="string">&#x27;\n&#x27;</span> + codeContent + <span class="string">&#x27;\n```&#x27;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> match; <span class="comment">// 代码块已经指定为目标语言，不需要修改</span></span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="keyword">return</span> updatedContent;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123; <span class="attr">plugin</span>: <span class="title class_">MarkdownToCode</span> &#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="启用插件">启用插件</h2>
<ol>
<li>修改 <code>./plugin/global/settings/custom_plugin.user.toml</code>，添加配置：</li>
</ol>
<figure class="highlight toml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[MarkdownToCode]</span></span><br><span class="line"><span class="attr">name</span> = <span class="string">&quot;标注全部代码块&quot;</span>  <span class="comment"># 右键菜单中展示的名称</span></span><br><span class="line"><span class="attr">enable</span> = <span class="literal">true</span>         <span class="comment"># 是否启用此自定义插件</span></span><br><span class="line"><span class="attr">hide</span> = <span class="literal">true</span>           <span class="comment"># 是否在右键菜单中隐藏</span></span><br><span class="line"><span class="attr">order</span> = <span class="number">1</span>             <span class="comment"># 在右键菜单中的出现顺序（越大越排到后面，允许负数）</span></span><br><span class="line"></span><br><span class="line">    <span class="section">[MarkdownToCode.config]</span></span><br><span class="line">    <span class="attr">code</span> = <span class="string">&quot;python&quot;</span> <span class="comment">##这里引号内改为你想要格式化的编程语言</span></span><br></pre></td></tr></table></figure>
<p>这里引号内的内容改为你想要格式化的编程语言</p>
<h2 id="添加快捷按钮">添加快捷按钮</h2>
<p>修改 <code>./plugin/global/settings/custom_plugin.user.toml</code>，添加配置</p>
<figure class="highlight toml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[quickButton]</span></span><br><span class="line"><span class="section">[quickButton.config]</span></span><br><span class="line"><span class="comment">#   disable:      禁用此按钮</span></span><br><span class="line"><span class="comment">#   coordinate:   按钮坐标。往上为x轴正方向，往左为y轴正方向，从零开始计数</span></span><br><span class="line"><span class="comment">#   icon:         按钮图标。填入css class。支持font-awesome-4.1.0和ionicons-2.0.1，所有的图标及其对应的css class请参考：https://www.adfwebmagazine.jp/wp-content/uploads/test_v4.1.pdf  和  https://ionic.io/ionicons/v2</span></span><br><span class="line"><span class="comment">#   size(可选):    图标大小。默认17px</span></span><br><span class="line"><span class="comment">#   color(可选):   图标颜色。默认跟随当前主题的配色方案</span></span><br><span class="line"><span class="comment">#   bgColor(可选): 图标背景色。默认跟随当前主题的配色方案</span></span><br><span class="line"><span class="comment">#   hint:         提示信息</span></span><br><span class="line"><span class="comment">#   callback:     回调函数。采用pluginName.MethodName的形式（功能就像hotkey.default.toml中的plugin参数和function参数的合体）</span></span><br><span class="line"><span class="comment">#                     MethodName请通过阅读源码查找。如果您不懂代码，但还是想添加按钮，有个碰运气技巧：在【右键菜单-&gt;常用插件-&gt;自定义插件下的插件】基本都是XXX.callback，其余插件基本都是XXX.call</span></span><br><span class="line"><span class="comment">#   evil(危险):    自定义回调函数。功能同hotkey.default.toml中的evil参数（它能用的，这里也能用）。这里的文本内容会被eval()。如果设置此参数，callback参数会失效</span></span><br><span class="line"><span class="attr">buttons</span> = [</span><br><span class="line">    <span class="comment"># 默认的按钮</span></span><br><span class="line">    &#123; disable = <span class="literal">false</span>, coordinate = [<span class="number">0</span>, <span class="number">0</span>], hint = <span class="string">&quot;直达底部&quot;</span>, size = <span class="string">&quot;28px&quot;</span>, icon = <span class="string">&quot;fa fa-angle-down&quot;</span>, callback = <span class="string">&quot;go_top.goBottom&quot;</span> &#125;,</span><br><span class="line">    &#123; disable = <span class="literal">false</span>, coordinate = [<span class="number">1</span>, <span class="number">0</span>], hint = <span class="string">&quot;直达顶部&quot;</span>, size = <span class="string">&quot;28px&quot;</span>, icon = <span class="string">&quot;fa fa-angle-up&quot;</span>, callback = <span class="string">&quot;go_top.goTop&quot;</span> &#125;,</span><br><span class="line">    &#123; disable = <span class="literal">false</span>, coordinate = [<span class="number">2</span>, <span class="number">0</span>], hint = <span class="string">&quot;文字风格&quot;</span>, size = <span class="string">&quot;17px&quot;</span>, icon = <span class="string">&quot;fa fa-font&quot;</span>, callback = <span class="string">&quot;text_stylize.call&quot;</span> &#125;,</span><br><span class="line">    &#123; disable = <span class="literal">false</span>, coordinate = [<span class="number">3</span>, <span class="number">0</span>], hint = <span class="string">&quot;混排优化&quot;</span>, size = <span class="string">&quot;17px&quot;</span>, icon = <span class="string">&quot;fa fa-align-justify&quot;</span>, callback = <span class="string">&quot;md_padding.call&quot;</span> &#125;,</span><br><span class="line">    &#123; disable = <span class="literal">false</span>, coordinate = [<span class="number">0</span>, <span class="number">1</span>], hint = <span class="string">&quot;思维导图&quot;</span>, size = <span class="string">&quot;22px&quot;</span>, icon = <span class="string">&quot;fa fa-code-fork&quot;</span>, callback = <span class="string">&quot;markmap.onButtonClick&quot;</span> &#125;,</span><br><span class="line">    &#123; disable = <span class="literal">false</span>, coordinate = [<span class="number">1</span>, <span class="number">1</span>], hint = <span class="string">&quot;图片管理&quot;</span>, size = <span class="string">&quot;17px&quot;</span>, icon = <span class="string">&quot;fa fa-image&quot;</span>, callback = <span class="string">&quot;imageReviewer.callback&quot;</span> &#125;,</span><br><span class="line">    &#123; disable = <span class="literal">false</span>, coordinate = [<span class="number">2</span>, <span class="number">1</span>], hint = <span class="string">&quot;书签管理&quot;</span>, size = <span class="string">&quot;17px&quot;</span>, icon = <span class="string">&quot;fa fa-bookmark&quot;</span>, callback = <span class="string">&quot;scrollBookmarker.callback&quot;</span> &#125;,</span><br><span class="line">    &#123; disable = <span class="literal">false</span>, coordinate = [<span class="number">3</span>, <span class="number">1</span>], hint = <span class="string">&quot;高亮搜索&quot;</span>, size = <span class="string">&quot;17px&quot;</span>, icon = <span class="string">&quot;fa fa-search&quot;</span>, callback = <span class="string">&quot;search_multi.call&quot;</span> &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 你的按钮</span></span><br><span class="line">    &#123; disable = <span class="literal">false</span>, coordinate = [<span class="number">4</span>, <span class="number">0</span>], hint = <span class="string">&quot;一键标注所有代码块&quot;</span>, size = <span class="string">&quot;17px&quot;</span>, icon = <span class="string">&quot;fa fa-code&quot;</span>, callback = <span class="string">&quot;MarkdownToCode.callback&quot;</span> &#125;,</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<p>重启 Typora 就可以在右下角看到添加的快捷按钮</p>
<h2 id="效果展示">效果展示</h2>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="../img/Typora_plugin/MarkdownToCode/recording.gif" alt="recording"></p>
<hr>
<h2 id="鸣谢">鸣谢</h2>
<p>感谢 Typora_plugin 作者，极大地方便了我的写作</p>
<p>感谢 ChatGPT，给了我代码写作的开头</p>
<ol>
<li><a target="_blank" rel="noopener" href="https://github.com/obgnail/typora_plugin/">https://github.com/obgnail/typora_plugin/</a></li>
<li><a target="_blank" rel="noopener" href="https://w1ndys.top/">https://w1ndys.top/</a></li>
<li><a target="_blank" rel="noopener" href="https://chat.openai.com/">https://chat.openai.com/</a></li>
</ol>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://blog.w1ndys.top">W1ndys</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://blog.w1ndys.top/posts/979ed90f.html">https://blog.w1ndys.top/posts/979ed90f.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://blog.w1ndys.top" target="_blank">W1ndysの小屋</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Hexo/">Hexo</a><a class="post-meta__tags" href="/tags/Typora/">Typora</a><a class="post-meta__tags" href="/tags/Typora-plugin/">Typora-plugin</a></div><div class="post-share"><div class="social-share" data-image="https://t.mwm.moe/fj/?72" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.4/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.4/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i>赞助</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/money/wechat.png" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/money/wechat.png" alt="wechat"/></a><div class="post-qr-code-desc">wechat</div></li><li class="reward-item"><a href="/img/money/alipay.png" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/money/alipay.png" alt="alipay"/></a><div class="post-qr-code-desc">alipay</div></li></ul></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/posts/6bbcb18e.html" title="Python中的map函数"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://t.mwm.moe/fj/?39" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">Python中的map函数</div></div><div class="info-2"><div class="info-item-1">Python中的map函数 map() 函数是Python中的一个内置函数，用于对可迭代对象（比如列表、元组等）中的每个元素应用一个指定的函数，然后返回一个包含所有函数返回值的迭代器。它的一般语法是： 1map(function, iterable, ...) 其中：  function 是一个函数，用于对 iterable 中的每个元素进行操作。它可以是内置的函数，也可以是自定义的函数。 iterable 是一个或多个可迭代对象，例如列表、元组等。如果提供了多个可迭代对象，map() 函数会以并行的方式对它们进行操作，即将每个可迭代对象中对应位置的元素作为参数传递给 function。 map() 函数会返回一个迭代器，其中包含了 function 对 iterable 中每个元素执行操作后的结果。  下面是一个简单的例子，演示了如何使用 map() 函数计算列表中每个数字的平方： 1234567891011numbers = [1, 2, 3, 4, 5]# 定义一个函数，用于计算平方def square(x):    return x ** 2# 使用 map()...</div></div></div></a><a class="pagination-related" href="/posts/75294ae4.html" title="适合个体用户使用的国内AI大模型"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://t.mwm.moe/fj/?128" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">适合个体用户使用的国内AI大模型</div></div><div class="info-2"><div class="info-item-1">智谱 AI（GLM 大模型） 智谱 AI（GLM 大模型） http://chatglm.cn 阿里通义千问 阿里通义千问： http://qianwen.aliyun.com 百川智能（百川大模型） 百川智能（百川大模型） http://www.baichuan-ai.com 讯飞星火 讯飞星火： http://xinghuo.xfyun.cn 360 智脑 360 智脑 ： http://ai.360.cn 个人感觉，并不是传统意义上的 AI，而是一个自动化搜索引擎 天工 AI 天工 AI： http://search.tiangong.cn 中科院（紫东太初大模型） 中科院（紫东太初大模型）http://xihe.mindspore.cn 百度（文心一言） 百度（文心一言） https://yiyan.baidu.com/#/ 字节（云雀大模型） 字节（云雀大模型） http://www.doubao.com 上海人工智能实验室（书生通用大模型） 上海人工智能实验室（书生通用大模型） http://intern-ai.org.cn MiniMax（ABAB...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/posts/520cc65.html" title="使用Typora_plugin实现Hexo博客绝对路径一键替换相对路径|正斜杠替换为反斜杠"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://t.mwm.moe/fj/?71" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-02-08</div><div class="info-item-2">使用Typora_plugin实现Hexo博客绝对路径一键替换相对路径|正斜杠替换为反斜杠</div></div><div class="info-2"><div class="info-item-1">使用 Typora_plugin 实现 Hexo 博客绝对路径一键替换相对路径|正斜杠替换为反斜杠 今天下午偶然的发现，解决了我很久以来一直想解决的问题，因为在 Hexo 博客上传的时候我一般是把图片插入进去，但是默认的路径是绝对路径，曾经在 Typora 设置里改过，但是效果也不好，今天想起了 Typora plugin，于是想基于 Typora plugin 开发一个插件 首先感谢 Typora plugin 开发者 https://github.com/obgnail/typora_plugin/ 真心感谢插件开发大佬😭😭😭😭😭😭😭😭😭😭😭 我把问题抛给大佬，大佬轮子都给我造好了，而且还有礼貌，我说我写个安装文档提供给其他有需要的用户使用，他甚至还麻烦我      脚本适用情况 该脚本主要实现功能是，Markdown 中所有的图片路径中正斜杠一键替换为反斜杠，并把包含…/img/的路径替换为相对路径，方便 Hexo 博客上传 例如 Markdown 中文件路径是...</div></div></div></a><a class="pagination-related" href="/posts/51225c3e.html" title="Python+多吉云api实现脚本刷新CDN缓存"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://t.mwm.moe/fj/?38" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-02-10</div><div class="info-item-2">Python+多吉云api实现脚本刷新CDN缓存</div></div><div class="info-2"><div class="info-item-1">把下面代码复制之后，修改自己的key，直接跑就行 在大佬的代码基础上增加了可选择的刷新形式 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899from hashlib import sha1import hmacimport requestsimport jsonimport urllibdef dogecloud_api(api_path, data=&#123;&#125;, json_mode=False):    &quot;&quot;&quot;    调用多吉云API    :param api_path:    调用的 API 接口地址，包含 URL 请求参数...</div></div></div></a><a class="pagination-related" href="/posts/7e5bbd5c.html" title="[白嫖图床]利用各大厂商图片服务器做图床"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://t.mwm.moe/fj/?55" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-02-13</div><div class="info-item-2">[白嫖图床]利用各大厂商图片服务器做图床</div></div><div class="info-2"><div class="info-item-1">背景 今天晚上突然在 QQ 聊天的时候发现的，因为我安装了 QQ 插件，QQ 图片可以直接转链接，于是脑海里萌生一个想法，既然这可以把图片转为链接，可不可以直接拿来当做图床，相比于市面上的小图床，这些大厂几乎没有跑路的可能性，并且没有存储空间的限制。拿来进行博客写作而且对清晰度以及水印无要求的话完全够用。 下面我仔细说来 常见可以托管图片的大厂平台有很多，比如 QQ 空间，QQ，微博，知乎，微信公众号，最右，CSDN，甚至是抖音…… 只要是可以托管图片的，都可以拿来用 但是有个问题就是，有些平台做了图片防盗链，这时候需要经过处理才可以引用，而有些没有防盗链，这可以直接拿来用 下面分类介绍 几个平台 QQ 图片缓存服务器（有防盗链）  CSDN 图片服务器（有防盗链）  微信公众号图片服务器（有防盗链）  知乎图片服务器（未做防盗链）  最右图片服务器（未做防盗链，但会 4.3）  微博图片服务器（未做防盗链，但会...</div></div></div></a><a class="pagination-related" href="/posts/8217ff3e.html" title="Hexo博文中front-matter的用法"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://t.mwm.moe/fj/?25" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-09-30</div><div class="info-item-2">Hexo博文中front-matter的用法</div></div><div class="info-2"><div class="info-item-1">https://Hexo.io/zh-cn/docs/front-matter Front-matter Front-matter 是文件最上方以 --- 分隔的区域，用于指定个别文件的变量，举例来说： 1234---title: Hello Worlddate: 2013/7/13 20:46:25--- 以下是预先定义的参数，您可在模板中使用这些参数值并加以利用。    参数 描述 默认值     layout 布局 config.default_layout   title 标题 文章的文件名   date 建立日期 文件建立日期   updated 更新日期 文件更新日期   comments 开启文章的评论功能 true   tags 标签（不适用于分页）    categories 分类（不适用于分页）    permalink 覆盖文章的永久链接，永久链接应该以 / 或 .html 结尾 null   excerpt 纯文本的页面摘要。使用 该插件 来格式化文本    disableNunjucks 启用时禁用 Nunjucks 标签 &#123;&#123;...</div></div></div></a><a class="pagination-related" href="/posts/cb064b79.html" title="使用 Hexo + GitHub + Netlify + Cloudflare提高博客的访问速度"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://t.mwm.moe/fj/?69" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-01-24</div><div class="info-item-2">使用 Hexo + GitHub + Netlify + Cloudflare提高博客的访问速度</div></div><div class="info-2"><div class="info-item-1">使用 Hexo + GitHub + Netlify + Cloudflare 提高博客的访问速度 今天也是看大佬的教程改了自己的配置发现访问速度确实快了许多，遂自己写一份教程加深一些理解。  大佬的教程：https://blog.grin.cool/blog/Hexo-blog#/   注意本教程不适合纯 Hexo 小白（其实只要略微了解过一丢丢 Hexo 的就能看懂这篇教程），适合前期有过 GitHub pages 建立经验的进阶用户 食用本教程若有进不去网站等情况请检查你的代理或者开魔法再进   食用本教程请确保  使用过 Hexo 等博客框架，略微了解使用方法 了解 GitHub，Git 的一些基本操作 了解 《提问的智慧》 以及 《如何像一个弱智一样提问》 在没有错误日志下诊断问题无异于闭眼开车   首先，本教程相对于 GitHub pages 的优势  本方法不再局限于只有一个仓库可以生成静态页面 国内访问速度飞快 每月有 100G 流量带宽额度，300 分钟的构建时间，对于个人博客记录来讲完全够用甚至还余下很多 静态页面生成速度高于 GitHub pages...</div></div></div></a><a class="pagination-related" href="/posts/c0fcf8f3.html" title="利用GithubAction实现Github推送代码后自动同步到服务器(可用于博客、静态页面的自动化更新)"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://picx.zhimg.com/70/v2-077dc9abad692effc0db50db4309a355_1440w.avis?source=172ae18b&biz_tag=Post" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-09-27</div><div class="info-item-2">利用GithubAction实现Github推送代码后自动同步到服务器(可用于博客、静态页面的自动化更新)</div></div><div class="info-2"><div class="info-item-1">deploy.yml 新建工作流文件 .github/workflows/deploy.yml，这里我以 Hexo 的自动化部署为例。 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364name: Hexo Deployon:  push:    branches:      - mainenv:  TZ: Asia/Shanghaijobs:  build:    runs-on: ubuntu-latest    steps:      - name: Checkout source        uses: actions/checkout@v2        with:          ref: main      - name: Setup Node.js        uses: actions/setup-node@v1        with:         ...</div></div></div></a></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="giscus-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-typora-plugin-%E5%AE%9E%E7%8E%B0-markdownd-%E4%BB%A3%E7%A0%81%E5%9D%97%E4%B8%80%E9%94%AE%E5%A1%AB%E5%85%85%E6%8C%87%E5%AE%9A%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80"><span class="toc-number">1.</span> <span class="toc-text">使用 Typora_plugin 实现 Markdownd 代码块一键填充指定编程语言</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BD%AE%E5%AD%90"><span class="toc-number">1.1.</span> <span class="toc-text">轮子</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-typora-plugin"><span class="toc-number">1.2.</span> <span class="toc-text">安装 Typora plugin</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA-js"><span class="toc-number">1.3.</span> <span class="toc-text">创建 JS</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%90%AF%E7%94%A8%E6%8F%92%E4%BB%B6"><span class="toc-number">1.4.</span> <span class="toc-text">启用插件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E5%BF%AB%E6%8D%B7%E6%8C%89%E9%92%AE"><span class="toc-number">1.5.</span> <span class="toc-text">添加快捷按钮</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%88%E6%9E%9C%E5%B1%95%E7%A4%BA"><span class="toc-number">1.6.</span> <span class="toc-text">效果展示</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%B8%A3%E8%B0%A2"><span class="toc-number">1.7.</span> <span class="toc-text">鸣谢</span></a></li></ol></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2023 - 2024 By W1ndys</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text"><a href="https://icp.gov.moe/?keyword=20238661" target="_blank">萌ICP备20238661号</a><br/><a target="_blank" rel="noopener" href="https://guan.ma/hao/2024000032/" title="官码2024000032号">官码2024000032号</a><br/><a target="_blank" rel="noopener" href="https://beian.miit.cn.com/gov/search.php?domain=blog.w1ndys.top" title="MIIT备20240341号">MIIT20240341号</a><br/><a target="_blank" title="51la网站统计" href="https://v6.51.la/report/overview?comId=401429">51la提供统计服务</a><br/><a target="_blank" rel="noopener" href="https://boke.lu" >博客录</a> || <a target="_blank" rel="noopener" href="https://blogwe.com/" >BlogMe</a> || <a target="_blank" rel="noopener" href="https://bf.zzxworld.com/" >BlogFinder</a><br/><a target="_blank" rel="noopener" href="https://app.netlify.com/teams/w1ndys/overview/">Netlify</a> || <a target="_blank" rel="noopener" href="https://vercel.com/dashboard/"> Vercel </a> || <a target="_blank" rel="noopener" href="https://dash.cloudflare.com/ffd1502e63a2eb2d1c6fbc47fab0a5ba/workers-and-pages">cloudflare pages</a> || <a target="_blank" rel="noopener" href="https://dashboard.render.com/">Render</a>|| <a target="_blank" rel="noopener" href="https://dash.zeabur.com/projects/660fb441a4799da57871453c/services/660fb4763b6b4a02865a1110?envID=660fb4414e5f07f892d24a42">Zeabur</a>提供部署服务<br/><a target="_blank" rel="noopener" href="https://v.blog.w1ndys.top/">Vercel镜像站</a> || <a target="_blank" rel="noopener" href="https://n.blog.w1ndys.top/">Netlify镜像站</a> || <a target="_blank" rel="noopener" href="https://r.blog.w1ndys.top/">Render镜像站</a> || <a target="_blank" rel="noopener" href="https://c.blog.w1ndys.top/">Cloudflare Pages镜像站</a>|| <a target="_blank" rel="noopener" href="https://z.blog.w1ndys.top/">Zeabur镜像站</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">简</button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="前往评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=5.2.2"></script><script src="/js/main.js?v=5.2.2"></script><script src="/js/tw_cn.js?v=5.2.2"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.36/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@5.2.0/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@19.1.3/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.js"></script><div class="js-pjax"><script>(() => {
  const runMermaid = ele => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    ele.forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const mermaidThemeConfig = `%%{init:{ 'theme':'${theme}'}}%%\n`
      const mermaidID = `mermaid-${index}`
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)
      const renderMermaid = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      // mermaid v9 and v10 compatibility
      typeof renderFn === 'string' ? renderMermaid(renderFn) : renderFn.then(({ svg }) => renderMermaid(svg))
    })
  }

  const codeToMermaid = () => {
    const codeMermaidEle = document.querySelectorAll('pre > code.mermaid')
    if (codeMermaidEle.length === 0) return

    codeMermaidEle.forEach(ele => {
      const preEle = document.createElement('pre')
      preEle.className = 'mermaid-src'
      preEle.hidden = true
      preEle.textContent = ele.textContent
      const newEle = document.createElement('div')
      newEle.className = 'mermaid-wrap'
      newEle.appendChild(preEle)
      ele.parentNode.replaceWith(newEle)
    })
  }

  const loadMermaid = () => {
    if (false) codeToMermaid()
    const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
    if ($mermaid.length === 0) return

    const runMermaidFn = () => runMermaid($mermaid)
    btf.addGlobalFn('themeChange', runMermaidFn, 'mermaid')
    window.loadMermaid ? runMermaidFn() : btf.getScript('https://cdn.jsdelivr.net/npm/mermaid@11.4.0/dist/mermaid.min.js').then(runMermaidFn)
  }

  btf.addGlobalFn('encrypt', loadMermaid, 'mermaid')
  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script><script>(() => {
  const abcjsInit = () => {
    const abcjsFn = () => setTimeout(() => {
      document.querySelectorAll(".abc-music-sheet").forEach(ele => {
        if (ele.children.length > 0) return
        ABCJS.renderAbc(ele, ele.innerHTML, {responsive: 'resize'})
      })
    }, 100)
    
    typeof ABCJS === 'object' ? abcjsFn()
      : btf.getScript('https://cdn.jsdelivr.net/npm/abcjs@6.4.4/dist/abcjs-basic-min.min.js').then(abcjsFn)
  }

  window.pjax ? abcjsInit() : window.addEventListener('load', abcjsInit)
  btf.addGlobalFn('encrypt', abcjsInit, 'abcjs')
})()</script><script>(() => {
  const isShuoshuo = GLOBAL_CONFIG_SITE.isShuoshuo
  const option = {"data-category":"Show and tell","data-mapping":"url","data-strict":0,"data-reactions-enabled":1,"data-emit-metadata":1,"data-input-position":"top","data-theme":"preferred_color_scheme","data-lang":"zh-CN","crossorigin":"anonymous"}

  const getGiscusTheme = theme => theme === 'dark' ? 'dark' : 'light'

  const createScriptElement = config => {
    const ele = document.createElement('script')
    Object.entries(config).forEach(([key, value]) => {
      ele.setAttribute(key, value)
    })
    return ele
  }

  const loadGiscus = (el = document, key) => {
    const mappingConfig = isShuoshuo
      ? { 'data-mapping': 'specific', 'data-term': key }
      : { 'data-mapping': (option && option['data-mapping']) || 'pathname' }

    const giscusConfig = {
      src: 'https://giscus.app/client.js',
      'data-repo': 'W1ndys/Blog',
      'data-repo-id': 'R_kgDOLaRaXw',
      'data-category-id': 'DIC_kwDOLaRaX84CeBp5',
      'data-theme': getGiscusTheme(document.documentElement.getAttribute('data-theme')),
      'data-reactions-enabled': '1',
      crossorigin: 'anonymous',
      async: true,
      ...option,
      ...mappingConfig
    }

    const scriptElement = createScriptElement(giscusConfig)

    el.querySelector('#giscus-wrap').appendChild(scriptElement)

    if (isShuoshuo) {
      window.shuoshuoComment.destroyGiscus = () => {
        if (el.children.length) {
          el.innerHTML = ''
          el.classList.add('no-comment')
        }
      }
    }
  }

  const changeGiscusTheme = theme => {
    const iframe = document.querySelector('#giscus-wrap iframe')
    if (iframe) {
      const message = {
        giscus: {
          setConfig: {
            theme: getGiscusTheme(theme)
          }
        }
      }
      iframe.contentWindow.postMessage(message, 'https://giscus.app')
    }
  }

  btf.addGlobalFn('themeChange', changeGiscusTheme, 'giscus')

  if (isShuoshuo) {
    'Giscus' === 'Giscus'
      ? window.shuoshuoComment = { loadComment: loadGiscus }
      : window.loadOtherComment = loadGiscus
    return
  }

  if ('Giscus' === 'Giscus' || !true) {
    if (true) btf.loadComment(document.getElementById('giscus-wrap'), loadGiscus)
    else loadGiscus()
  } else {
    window.loadOtherComment = loadGiscus
  }
})()</script></div><script data-pjax src="/js/foot.js"></script><script data-pjax src="/js/ip.js"></script><script data-pjax src="/js/Capoo.js"></script><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.4/dist/fireworks.min.js"></script><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.4/dist/canvas-fluttering-ribbon.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.4/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.min.js"></script><script>(() => {
  const pjaxSelectors = ["link[rel=\"canonical\"]","meta[property=\"og:image\"]","meta[property=\"og:title\"]","meta[property=\"og:url\"]","head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

  window.pjax = new Pjax({
    elements: 'a:not([target="_blank"])',
    selectors: pjaxSelectors,
    cacheBust: false,
    analytics: false,
    scrollRestoration: false
  })

  const triggerPjaxFn = (val) => {
    if (!val) return
    Object.values(val).forEach(fn => fn())
  }

  document.addEventListener('pjax:send', () => {
    // removeEventListener
    btf.removeGlobalFnEvent('pjaxSendOnce')
    btf.removeGlobalFnEvent('themeChange')

    // reset readmode
    const $bodyClassList = document.body.classList
    if ($bodyClassList.contains('read-mode')) $bodyClassList.remove('read-mode')

    triggerPjaxFn(window.globalFn.pjaxSend)
  })

  document.addEventListener('pjax:complete', () => {
    btf.removeGlobalFnEvent('pjaxCompleteOnce')
    document.querySelectorAll('script[data-pjax]').forEach(item => {
      const newScript = document.createElement('script')
      const content = item.text || item.textContent || item.innerHTML || ""
      Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
      newScript.appendChild(document.createTextNode(content))
      item.parentNode.replaceChild(newScript, item)
    })

    triggerPjaxFn(window.globalFn.pjaxComplete)
  })

  document.addEventListener('pjax:error', e => {
    if (e.request.status === 404) {
      pjax.loadUrl('/404.html')
    }
  })
})()</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>